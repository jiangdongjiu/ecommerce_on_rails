<div class="column is-one-quarter">
  <div class="card">
    <div class="card-image">
      <figure class="image">
        <% if show_link %>
          <%= link_to image_tag(product.image, alt: product.name), product%>
        <% else %>
          <%= image_tag(product.image, alt: product.name) %>
        <% end %>
      </figure>
    </div>
    <div class="card-content">
    <div class="content">
      <h4 class= "title is-6">
        <% if show_link %>
          <%= link_to product.name, product %>
        <% else %>
          <%= product.name %>
        <% end %>
      </h4>
      <h4 class= "title is-7"><%= product.category.name %></h4>
      <% if !show_link %>
        <p><%= product.description %></p>
      <% end %>

      <% if cart.include?(product) %>
        <%= button_to(cart_path(product), method: :delete, class: "button is-primary") do %>
          ❌ Remove From Cart
        <% end %>
      <% else %>
        <%= form_with url: cart_index_path do %>
          <%= hidden_field_tag(:id, product.id) %>
          <%= button_tag('➕ Add to Cart', class: "button is-primary") %>
        <% end %>
      <% end %>
    </div>
  </div>
  </div>

</div>